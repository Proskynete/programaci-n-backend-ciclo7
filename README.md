<div id="top">
  <h1>Semana 4 - Encargo - ProgramaciÃ³n Backend <img src="https://cdn.iconscout.com/icon/free/png-256/typescript-1174965.png" width="25" height="25" /></h1>
</div>

</div>

## Status

[![CI](https://img.shields.io/github/actions/workflow/status/Proskynete/programaci-n-backend-ciclo7/ci.yml?logo=GithubActions&logoColor=fff)](https://github.com/Proskynete/programaci-n-backend-ciclo7/actions/workflows/ci.yml) [![GitHub issues](https://img.shields.io/github/issues/Proskynete/programaci-n-backend-ciclo7)](https://github.com/Proskynete/programaci-n-backend-ciclo7/issues) [![GitHub forks](https://img.shields.io/github/forks/Proskynete/programaci-n-backend-ciclo7)](https://github.com/Proskynete/programaci-n-backend-ciclo7/network) [![GitHub stars](https://img.shields.io/github/stars/Proskynete/programaci-n-backend-ciclo7)](https://github.com/Proskynete/programaci-n-backend-ciclo7/stargazers) [![PRs welcome](https://img.shields.io/badge/PRs-welcome-green)](#CONTRIBUTING.md)

<details>
  <summary>Table of contents</summary>
  <ol>
    <li>
      <a href="#features">Features</a>
    </li>
    <li>
      <a href="#folder-structure">Folder structure</a>
    </li>
    <li>
      <a href="#how-to-use">How to use</a>
    </li>
    <li>
      <a href="#docker">Docker</a>
    </li>
    <li>
      <a href="#linting">Linting</a>
    </li>
    <li>
      <a href="#testing">Testing</a>
    </li>
  </ol>
</details>

<h2 id="features">âš™ï¸ Features</h2>

- [Express](https://expressjs.com/)
- [TypeScript](https://www.typescriptlang.org/)
- [ts-node-dev](https://github.com/wclr/ts-node-dev)
- [Jest](https://jestjs.io/)
- [Cors](https://github.com/expressjs/cors)
- [Morgan](https://github.com/expressjs/morgan)
- [Helmet](https://helmetjs.github.io/)
- [Supertest](https://github.com/ladjs/supertest#readme)
- [ESLint](https://eslint.org/)
- [Prettier](https://prettier.io/)
- [Husky](https://typicode.github.io/husky/#/)
- [Github Actions](https://github.com/features/actions)
- [Docker](https://www.docker.com/)
- [Open API](https://swagger.io/specification/)

<p align="right"><a href="#top">ğŸ”</a></p>

<h2 id="folder-structure">ğŸ—‚ï¸ Folder structure</h2>

    .
    â”œâ”€â”€ .github/
    â”‚   â””â”€â”€ workflows/
    â”‚       â”œâ”€â”€ ci.yml          # Continuous integration workflow
    â”‚       â”œâ”€â”€ lint.yml        # Linting workflow
    â”‚       â””â”€â”€ test.yml        # Testing workflow
    â”œâ”€â”€ .husky/                 # Husky configuration
    â”‚   â”œâ”€â”€ pre-commit          # Pre-commit hook
    â”‚   â””â”€â”€ pre-push            # Pre-push hook
    â”œâ”€â”€ coverage/               # Coverage report generated by Jest (folder is ignored by git)
    â”œâ”€â”€ dist/                   # Transpiler files (folder is ignored by git)
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ controllers/        # Controllers define functions that respond to various http requests
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â”œâ”€â”€ models/             # Models define the structure
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â”œâ”€â”€ routes/             # Routes define the endpoints of the API
    â”‚   â”‚   â”œâ”€â”€ index.ts        # Index file that generates the prefix of the routes and imports all the routes
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â”œâ”€â”€ tools/              # Tools are used to generate the Open API documentation and health check
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â”œâ”€â”€ utils/              # Functions that are used in multiple places
    â”‚   â”‚   â””â”€â”€ ...
    â”‚   â”œâ”€â”€ app.ts              # Express app with middlewares and routes
    â”‚   â”œâ”€â”€ config.ts           # Configuration file
    â”‚   â””â”€â”€ server.ts           # Server file that starts the app
    â”œâ”€â”€ test/
    â”‚   â”œâ”€â”€ __mocks__/          # Mocks for tests
    â”‚   â””â”€â”€ ...                 # Tests
    â””â”€â”€ ...

<p align="right"><a href="#top">ğŸ”</a></p>

<h2 id="how-to-use">ğŸ’ª How to use</h2>

To get started with this project, you can use this repository as a template. Click the "Use this template" button at the top right of the repository page and select "Create a new repository." This will create a new repository with the same files and history.

### Prerequisites

Make sure you have [Node.js](https://nodejs.org/) installed on your system.

### Installation and Setup

1.  **Clone the repository:**

    ```bash
    git clone https://github.com/Proskynete/programaci-n-backend-ciclo7.git
    cd programaci-n-backend-ciclo7
    ```

2.  **Install dependencies:**

    ```bash
    npm install
    ```

3.  **Set up environment variables:**

    Copy the example `.env.example` file to a new `.env` file and fill in the required values.

    ```bash
    cp .env.example .env
    ```

### Running the Application

- **Development mode:**

  To run the server in development mode with live reloading, use:

  ```bash
  npm run dev
  ```

  The server will start on the port specified in your `.env` file (default is 3000).

- **Production mode:**

  To build and run the application for production, use the following commands:

  ```bash
  # Create a production build
  npm run build

  # Start the production server
  npm start
  ```

<p align="right"><a href="#top">ğŸ”</a></p>

<h2 id="available-routes">Available Routes</h2>

The API includes the following endpoints:

- **Health Check:**

  - `GET /health`: Checks the health status of the application.

- **Items:**
  - `GET /api/v1/item`: Retrieve all items.
  - `GET /api/v1/item/:id`: Retrieve a single item by its ID.
  - `POST /api/v1/item`: Create a new item.
  - `PUT /api/v1/item/:id`: Update an existing item.
  - `DELETE /api/v1/item/:id`: Delete an item.
  - `PATCH /api/v1/item/:id/toggle`: Toggle isComplete value

### API Documentation

This project uses Swagger for API documentation. Once the server is running, you can access the documentation by navigating to `/docs` in your browser.

For example, if your server is running on `http://localhost:3000`, the documentation will be available at `http://localhost:3000/docs`.

### Postman Collection

This project includes a [Postman](https://www.postman.com/) collection that you can use to test the API endpoints. The collection is located at `documentation/ciclo7-semana4-programacion_backend.postman_collection.json`.

To use it, you can import the collection into your Postman application. This will give you a set of pre-configured requests for all the available routes, making it easy to interact with the API.

<p align="right"><a href="#top">ğŸ”</a></p>

<h2 id="docker">ğŸ³ Docker</h2>

```bash
# Build the image
docker build -t {{some-name}} .

# Run the container
docker run -p 3000:3000 {{some-name}}
```

<p align="right"><a href="#top">ğŸ”</a></p>

<h2 id="linting">ğŸ”¦ Linting</h2>

```bash
# Run Linter
npm run lint

# Run Formatter
npm run lint:fix
```

> The linter will run automatically before every commit using [Husky](https://typicode.github.io/husky/).

<p align="right"><a href="#top">ğŸ”</a></p>

<h2 id="testing">ğŸ‘¾ Testing</h2>

```bash
# Run tests
npm run test

# Run tests and generate coverage report
npm run test:coverage
```

<p align="right"><a href="#top">ğŸ”</a></p>
